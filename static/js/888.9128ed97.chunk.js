"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[888],{888:function(n,t,e){e.r(t),e.d(t,{default:function(){return _}});var r,o,a=e(5861),i=e(9439),c=e(4687),u=e.n(c),s=e(2791),p=e(1087),l=e(5206),f=e(8494),d=e(168),m=e(7691),h=m.ZP.form(r||(r=(0,d.Z)(["\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 50px;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 5px;\n  border: 2px solid #34495e;\n  overflow: hidden;\n\n  & .SearchBtn {\n    display: inline-block;\n    width: 48px;\n    height: 48px;\n    border: none;\n    opacity: 0.6;\n    transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    cursor: pointer;\n    outline: none;\n  }\n\n  .SearchBtn:hover {\n    opacity: 1;\n  }\n\n  & .Input {\n    marging-bottom: 100px;\n    display: inline-block;\n    width: 100%;\n    font: inherit;\n    font-size: 20px;\n    border: none;\n    outline: none;\n    padding: 4px 6px;\n  }\n\n  & .Input::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n"]))),x=e(184),g=function(n){var t=n.onFormSubmit,e=(0,s.useState)(""),r=(0,i.Z)(e,2),o=r[0],a=r[1];return(0,x.jsxs)(h,{onSubmit:function(n){(n.preventDefault(),""!==o.trim())?t(o)&&a(""):l.Am.error("\u203c\ufe0f Enter a key-word")},children:[(0,x.jsx)("input",{className:"Input",type:"text",name:"query",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(n){a(n.currentTarget.value.toLowerCase())},value:o}),(0,x.jsx)("button",{type:"submit",className:"SearchBtn",children:(0,x.jsx)(f.Yfv,{})})]})},v=e(7158),b=m.ZP.div(o||(o=(0,d.Z)(["\n  position: relative;\n  // top: 150px;\n  // left: 50%;\n  // transform: translate(-50%);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  & img {\n    position: absolute;\n    top: 150px;\n    left: 50%;\n    transform: translate(-50%);\n    width: 600px;\n    height: auto;\n    margin-bottom: 15px;\n  }\n\n  p {\n    font-size: 25px;\n    font-weight: 500;\n    color: #34495e;\n  }\n"]))),y=function(){return(0,x.jsxs)(b,{children:[(0,x.jsx)("p",{children:"Enter a keyword please\ud83d\udc46."}),(0,x.jsx)("img",{src:v,alt:"popcorn",width:"300"})]})},w=e(2033),Z=e(1313),j=e(9408),k=e(9245),S=e(2424),_=function(){var n=(0,s.useState)(""),t=(0,i.Z)(n,2),e=t[0],r=t[1],o=(0,s.useState)([]),c=(0,i.Z)(o,2),f=c[0],d=c[1],m=(0,s.useState)(0),h=(0,i.Z)(m,2),v=h[0],b=h[1],_=(0,s.useState)(null),z=(0,i.Z)(_,2),C=z[0],q=z[1],B=(0,s.useState)("idle"),L=(0,i.Z)(B,2),P=L[0],F=L[1],I=(0,p.lr)(),N=(0,i.Z)(I,2),T=N[0],E=N[1],H=T.get("query"),U=T.get("page");(0,s.useEffect)((function(){var n=function(){var n=(0,a.Z)(u().mark((function n(t){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,F("pending"),n.next=6,(0,Z.$H)(t,U);case 6:0===(e=n.sent).results.length?(l.Am.warning("Sorry, there are no movies matching your search query. Please enter another keyword \ud83d\udd0e.",{toastId:"warning2"}),d([]),F("idle")):(d(e.results),b(e.total_pages),F("resolved")),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(2),console.log(n.t0.message),q("\u274c".concat(n.t0.message,". Try again later, please.")),F("rejected");case 15:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t){return n.apply(this,arguments)}}();n(H)}),[H,U]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(g,{onFormSubmit:function(n){e!==n&&(r(n),d([]),q(null),E({query:n,page:"1"}))}}),(0,x.jsx)(l.Ix,{autoClose:4e3,theme:"colored",limit:1}),"idle"===P&&(0,x.jsx)(y,{}),"pending"===P&&(0,x.jsx)(k.a,{}),"resolved"===P&&(0,x.jsx)(j.s,{headline:"\ud83d\udc47 These movies match your query.",movies:f}),"rejected"===P&&(0,x.jsx)(w.o,{message:C}),v>1&&(0,x.jsx)(S.f,{count:v,onChange:function(n,t){E({query:H,page:t})},page:Number(U),showFirstButton:!0,showLastButton:!0})]})}},1313:function(n,t,e){e.d(t,{$H:function(){return g},DL:function(){return b},VU:function(){return v},Z$:function(){return x},h7:function(){return y}});var r=e(5861),o=e(4687),a=e.n(o),i=e(1243),c="https://api.themoviedb.org/3",u="60bdd84997c9f2a4c6cd2341c547ed98",s="/trending/movie/day",p="/search/movie",l="/movie",f="/credits",d="/reviews",m="language=en-US",h="include_adult=false",x=function(){var n=(0,r.Z)(a().mark((function n(t){var e,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("".concat(c).concat(s,"?api_key=").concat(u,"&page=").concat(t,"&").concat(h));case 2:return e=n.sent,r=e.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),g=function(){var n=(0,r.Z)(a().mark((function n(t,e){var r,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("".concat(c).concat(p,"?api_key=").concat(u,"&").concat(m,"&").concat(h,"&query=").concat(t,"&page=").concat(e));case 2:return r=n.sent,o=r.data,n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),v=function(){var n=(0,r.Z)(a().mark((function n(t){var e,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("".concat(c).concat(l,"/").concat(t,"?api_key=").concat(u,"&").concat(m));case 2:return e=n.sent,r=e.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),b=function(){var n=(0,r.Z)(a().mark((function n(t){var e,r,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("".concat(c).concat(l,"/").concat(t).concat(f,"?api_key=").concat(u,"&").concat(m));case 2:return e=n.sent,r=e.data,o=r.cast,n.abrupt("return",o);case 6:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),y=function(){var n=(0,r.Z)(a().mark((function n(t,e){var r,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.Z.get("".concat(c).concat(l,"/").concat(t).concat(d,"?api_key=").concat(u,"&").concat(m,"&page=").concat(e));case 2:return r=n.sent,o=r.data,n.abrupt("return",o);case 5:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()},2033:function(n,t,e){e.d(t,{o:function(){return u}});var r,o=e(9711),a=e(168),i=e(7691).ZP.div(r||(r=(0,a.Z)(["\n  position: absolute;\n  bottom: 10;\n  left: 50%;\n  transform: translate(-50%);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  & img {\n    width: 300px;\n    height: auto;\n    margin-bottom: 15px;\n  }\n\n  & p {\n    font-size: 18px;\n    color: #34495e;\n  }\n"]))),c=e(184),u=function(n){var t=n.message;return(0,c.jsxs)(i,{children:[(0,c.jsx)("img",{src:o,alt:"red button",width:"300"}),(0,c.jsx)("p",{children:t})]})}},9408:function(n,t,e){e.d(t,{s:function(){return d}});var r,o,a=e(1087),i=e(7689),c=e(168),u=e(7691),s=u.ZP.li(r||(r=(0,c.Z)(["\n  margin-bottom: 10px;\n  font-size: 20px;\n\n  & .Link {\n    color: #34495e;\n    text-decoration: none;\n  }\n\n  & .Link:hover {\n    color: #22313f;\n    text-decoration: underline;\n  }\n"]))),p=e(184),l=function(n){var t=n.movie,e=(0,i.TH)();return(0,p.jsx)(s,{children:(0,p.jsx)(a.rU,{state:{from:e},to:"/movies/".concat(t.id),className:"Link",children:t.title})})},f=u.ZP.div(o||(o=(0,c.Z)(["\n  text-align: center;\n  & h1 {\n    margin-top: 0;\n    margin-bottom: 50px;\n    font-size: 38px;\n    color: #34495e;\n  }\n\n  & ul {\n    display: inline-block;\n    margin-top: 0;\n    margin-bottom: 50px;\n    text-align: left;\n    font-size: 38px;\n    color: #34495e;\n  }\n"]))),d=function(n){var t=n.movies,e=n.headline;return(0,p.jsxs)(f,{children:[(0,p.jsx)("h1",{children:e}),(0,p.jsx)("ul",{children:t.map((function(n){return(0,p.jsx)(l,{movie:n},n.id)}))})]})}},2424:function(n,t,e){e.d(t,{f:function(){return u}});var r,o=e(3348),a=e(168),i=e(7691).ZP.div(r||(r=(0,a.Z)(["\n  // margin-right: auto;\n  // margin-left: auto;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 40px;\n"]))),c=e(184),u=function(n){var t=n.count,e=n.page,r=n.onChange;return(0,c.jsx)(i,{children:(0,c.jsx)(o.Z,{count:t,onChange:r,page:e,showFirstButton:!0,showLastButton:!0,size:"large"})})}},9711:function(n,t,e){n.exports=e.p+"static/media/errorImg.f340655446e287466997.jpeg"},7158:function(n,t,e){n.exports=e.p+"static/media/movies.d2f4de4f2931ff6d729e.jpeg"}}]);
//# sourceMappingURL=888.9128ed97.chunk.js.map