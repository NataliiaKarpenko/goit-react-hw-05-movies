{"version":3,"file":"static/js/562.a0c86f94.chunk.js","mappings":"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","sources":["Pages/HomePage.jsx","components/APIServices/APIServices.jsx","components/ErrorView/ErrorView.styled.js","components/ErrorView/ErrorView.jsx","components/MovieItem/MovieItem.styled.js","components/MovieItem/MovieItem.jsx","components/MoviesGallery/MoviesGallery.styled.js","components/MoviesGallery/MoviesGallery.jsx","components/Pagination/Pagination.styled.js","components/Pagination/Pagination.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nimport { PaginationContainer } from '../components/Pagination/Pagination';\nimport { requestTrendingMovies } from '../components/APIServices/APIServices';\nimport { Loader } from '../components/Loader/Loader';\nimport { MoviesGallery } from '../components/MoviesGallery/MoviesGallery';\nimport { ErrorView } from '../components/ErrorView/ErrorView';\n\nconst HomePage = () => {\n  const [trendingMovies, setTrendingMovies] = useState([]);\n  const [totalPages, setTotalPages] = useState(0);\n  const [status, setStatus] = useState('pending');\n  const [error, setError] = useState(null);\n\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const page = new URLSearchParams(location.search).get('page') ?? 1;\n\n  useEffect(() => {\n    if (page === 1) navigate({ ...location, search: `page=1` });\n  });\n\n  useEffect(() => {\n    const fetchTrendingMovies = async page => {\n      try {\n        const trendingMovies = await requestTrendingMovies(page);\n        setTrendingMovies(trendingMovies.results);\n        setTotalPages(trendingMovies.total_pages);\n        setStatus('resolved');\n      } catch (error) {\n        console.log(error);\n        setError(`❌${error.message}. Try again later, please.`);\n        setStatus('rejected');\n      }\n    };\n\n    fetchTrendingMovies(page);\n  }, [page]);\n\n  const onHandlePage = (event, page) => {\n    navigate({ ...location, search: `page=${page}` });\n  };\n\n  return (\n    <>\n      {status === 'pending' && <Loader />}\n      {status === 'rejected' && <ErrorView message={error} />}\n      {status === 'resolved' && (\n        <MoviesGallery headline=\"Trending movies\" movies={trendingMovies} />\n      )}\n      {totalPages > 1 && (\n        <PaginationContainer\n          count={totalPages}\n          onChange={onHandlePage}\n          page={Number(page)}\n        />\n      )}\n    </>\n  );\n};\n\nexport default HomePage;\n","import axios from 'axios';\n\nconst URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '60bdd84997c9f2a4c6cd2341c547ed98';\nconst REQUEST = {\n  trendingMovies: '/trending/movie/day',\n  moviesByQuery: '/search/movie',\n  movie: '/movie',\n  credits: '/credits',\n  reviews: '/reviews',\n  lang: 'language=en-US',\n  restrictions: 'include_adult=false',\n};\n\nexport const requestTrendingMovies = async page => {\n  const trendingMoviesResponse = await axios.get(\n    `${URL}${REQUEST.trendingMovies}?api_key=${API_KEY}&page=${page}&${REQUEST.restrictions}`\n  );\n\n  const { data } = trendingMoviesResponse;\n\n  return data;\n};\n\nexport const requestMoviesByQuery = async (query, page) => {\n  // https://api.themoviedb.org/3/search/movie?api_key=<<api_key>>&language=en-US&page=1&include_adult=false\n  const moviesByQueryResponse = await axios.get(\n    `${URL}${REQUEST.moviesByQuery}?api_key=${API_KEY}&${REQUEST.lang}&${REQUEST.restrictions}&query=${query}&page=${page}`\n  );\n\n  const { data } = moviesByQueryResponse;\n\n  return data;\n};\n\nexport const requestMovieInfo = async id => {\n  // https://api.themoviedb.org/3/movie/{movie_id}?api_key=<<api_key>>&language=en-US\n  const movieInfoResponse = await axios.get(\n    `${URL}${REQUEST.movie}/${id}?api_key=${API_KEY}&${REQUEST.lang}`\n  );\n\n  const { data } = movieInfoResponse;\n\n  return data;\n};\n\nexport const requestMovieCredits = async id => {\n  // https://api.themoviedb.org/3/movie/{movie_id}/credits?api_key=<<api_key>>&language=en-US\n  const moviesCreditsResponse = await axios.get(\n    `${URL}${REQUEST.movie}/${id}${REQUEST.credits}?api_key=${API_KEY}&${REQUEST.lang}`\n  );\n\n  const { data } = moviesCreditsResponse;\n  const moviesCreditsArr = data.cast;\n  return moviesCreditsArr;\n};\n\nexport const requestMovieReviews = async (id, page = 1) => {\n  // https://api.themoviedb.org/3/movie/{movie_id}/reviews?api_key=<<api_key>>&language=en-US&page=1\n  const movieReviewsResponse = await axios.get(\n    `${URL}${REQUEST.movie}/${id}${REQUEST.reviews}?api_key=${API_KEY}&${REQUEST.lang}&page=${page}`\n  );\n\n  const { data } = movieReviewsResponse;\n\n  return data;\n};\n","import styled from 'styled-components';\n\nexport const StyledErrorView = styled.div`\n  position: absolute;\n  bottom: 10;\n  left: 50%;\n  transform: translate(-50%);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  & img {\n    width: 300px;\n    height: auto;\n    margin-bottom: 15px;\n  }\n\n  & p {\n    font-size: 18px;\n    color: #34495e;\n  }\n`;\n","import PropTypes from 'prop-types';\n\nimport errorImg from '../../images/errorImg.jpeg';\nimport { StyledErrorView } from './ErrorView.styled';\n\nexport const ErrorView = ({ message }) => {\n  return (\n    <StyledErrorView>\n      <img src={errorImg} alt=\"red button\" width=\"300\" />\n      <p>{message}</p>\n    </StyledErrorView>\n  );\n};\n\nErrorView.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const StyledMovieItem = styled.li`\n  margin-bottom: 10px;\n  font-size: 20px;\n\n  & .Link {\n    color: #34495e;\n    text-decoration: none;\n  }\n\n  & .Link:hover {\n    color: #22313f;\n    text-decoration: underline;\n  }\n`;\n","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { StyledMovieItem } from './MovieItem.styled';\n\nexport const MovieItem = ({ movie }) => {\n  const location = useLocation();\n\n  return (\n    <StyledMovieItem>\n      <Link\n        state={{ from: location }}\n        to={`/movies/${movie.id}`}\n        className=\"Link\"\n      >\n        {movie.title}\n      </Link>\n    </StyledMovieItem>\n  );\n};\n\nMovieItem.propTypes = {\n  movie: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n  }).isRequired,\n};\n","import styled from 'styled-components';\n\nexport const StyledMoviesGalleryContainer = styled.div`\n  text-align: center;\n  & h1 {\n    margin-top: 0;\n    margin-bottom: 50px;\n    font-size: 38px;\n    color: #34495e;\n  }\n\n  & ul {\n    display: inline-block;\n    margin-top: 0;\n    margin-bottom: 50px;\n    text-align: left;\n    font-size: 38px;\n    color: #34495e;\n  }\n`;\n","import PropTypes from 'prop-types';\n\nimport { MovieItem } from '../MovieItem/MovieItem';\nimport { StyledMoviesGalleryContainer } from './MoviesGallery.styled';\n\nexport const MoviesGallery = ({ movies, headline }) => {\n  return (\n    <StyledMoviesGalleryContainer>\n      <h1>{headline}</h1>\n      <ul>\n        {movies.map(movie => {\n          return <MovieItem key={movie.id} movie={movie} />;\n        })}\n      </ul>\n    </StyledMoviesGalleryContainer>\n  );\n};\n\nMoviesGallery.propTypes = {\n  movies: PropTypes.array,\n  headline: PropTypes.string,\n};\n","import styled from 'styled-components';\n\nexport const StyledPagination = styled.div`\n  // margin-right: auto;\n  // margin-left: auto;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 40px;\n`;\n","import { Pagination } from '@mui/material';\n\nimport { StyledPagination } from './Pagination.styled';\n\nexport const PaginationContainer = ({ count, page, onChange }) => {\n  return (\n    <StyledPagination>\n      <Pagination\n        count={count}\n        onChange={onChange}\n        page={page}\n        showFirstButton\n        showLastButton\n        size=\"large\"\n      />\n    </StyledPagination>\n  );\n};\n"],"names":["useState","trendingMovies","setTrendingMovies","totalPages","setTotalPages","status","setStatus","error","setError","navigate","useNavigate","location","useLocation","page","URLSearchParams","search","get","useEffect","fetchTrendingMovies","requestTrendingMovies","results","total_pages","console","log","message","headline","movies","count","onChange","event","Number","URL","API_KEY","REQUEST","axios","trendingMoviesResponse","data","requestMoviesByQuery","query","moviesByQueryResponse","requestMovieInfo","id","movieInfoResponse","requestMovieCredits","moviesCreditsResponse","moviesCreditsArr","cast","requestMovieReviews","movieReviewsResponse","StyledErrorView","styled","ErrorView","src","errorImg","alt","width","StyledMovieItem","MovieItem","movie","state","from","to","className","title","StyledMoviesGalleryContainer","MoviesGallery","map","StyledPagination","PaginationContainer","Pagination","showFirstButton","showLastButton","size"],"sourceRoot":""}